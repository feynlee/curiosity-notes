<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="ziyue li">
<meta name="dcterms.date" content="2022-11-24">

<title>curiosity-notes - Tips for Configuring a Quarto Website</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-343667243"></script>

<script type="text/javascript">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-343667243', { 'anonymize_ip': true});
</script>
<style>html{ scroll-behavior: smooth; }</style>
<script type="application/json" class="js-hypothesis-config">
{
  "theme": "clean"
}
</script>
<script async="" src="https://hypothes.is/embed.js"></script>
<script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js#property=637e822e04255c001315118d&amp;product=inline-share-buttons&amp;source=platform" async="async"></script>
<script data-name="BMC-Widget" data-cfasync="false" src="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js" data-id="v97khzznr8B" data-description="Support me on Buy me a coffee!" data-message="" data-color="#5F7FFF" data-position="Right" data-x_margin="18" data-y_margin="18"></script>


<link rel="stylesheet" href="../styles.css">
<meta property="og:title" content="curiosity-notes - Tips for Configuring a Quarto Website">
<meta property="og:description" content="It took me some time to migrate to Quarto. Here are some the tips that might be helpful if you are thinking about doing the same.">
<meta property="og:image" content="https://feynlee.github.io/curiosity-notes/posts/images/2022/quarto-website.png">
<meta property="og:site-name" content="curiosity-notes">
<meta property="og:image:height" content="962">
<meta property="og:image:width" content="1713">
<meta name="twitter:title" content="curiosity-notes - Tips for Configuring a Quarto Website">
<meta name="twitter:description" content="It took me some time to migrate to Quarto. Here are some the tips that might be helpful if you are thinking about doing the same.">
<meta name="twitter:image" content="https://feynlee.github.io/curiosity-notes/posts/images/2022/quarto-website.png">
<meta name="twitter:image-height" content="962">
<meta name="twitter:image-width" content="1713">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-fixed">


<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">curiosity-notes</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html">
 <span class="menu-text">Posts</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../TIL.html">
 <span class="menu-text">TIL</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../books/books.html">
 <span class="menu-text">Books</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-ai-art" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">AI Art</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-ai-art">    
        <li>
    <a class="dropdown-item" href="../ai_art-dd.html">
 <span class="dropdown-text">Disco Diffusion</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../ai_art-sd.html">
 <span class="dropdown-text">Stable Diffusion</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../projects.html">
 <span class="menu-text">Projects</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../Apps/Long-Text-Pic.html">
 <span class="menu-text">Apps</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../about.html">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/feynlee"><i class="bi bi-github" role="img" aria-label="GitHub">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/curiosity_notes"><i class="bi bi-twitter" role="img" aria-label="Twitter">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-bi-rss" role="button" data-bs-toggle="dropdown" aria-expanded="false">
      <i class="bi bi-rss" role="img">
</i> 
 <span class="menu-text"></span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-bi-rss">    
        <li>
    <a class="dropdown-item" href="https://feynlee.github.io/curiosity-notes/index.xml"><i class="bi bi-rss" role="img" aria-label="Posts RSS">
</i> 
 <span class="dropdown-text">Subscribe to Posts</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://feynlee.github.io/curiosity-notes/TIL.xml"><i class="bi bi-rss" role="img" aria-label="TIL RSS">
</i> 
 <span class="dropdown-text">Subscribe to TIL</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="https://feynlee.github.io/curiosity-notes/projects.xml"><i class="bi bi-rss" role="img" aria-label="Projects RSS">
</i> 
 <span class="dropdown-text">Subscribe to Projects</span></a>
  </li>  
    </ul>
  </li>
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Tips for Configuring a Quarto Website</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">Web</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>ziyue li </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">November 24, 2022</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#different-sidebars-for-different-contents" id="toc-different-sidebars-for-different-contents" class="nav-link active" data-scroll-target="#different-sidebars-for-different-contents"><span class="toc-section-number">1</span>  Different Sidebars for Different Contents</a></li>
  <li><a href="#enable-line-numbers-in-code-blocks" id="toc-enable-line-numbers-in-code-blocks" class="nav-link" data-scroll-target="#enable-line-numbers-in-code-blocks"><span class="toc-section-number">2</span>  Enable Line Numbers in Code Blocks</a></li>
  <li><a href="#add-a-comment-section-that-supports-latex" id="toc-add-a-comment-section-that-supports-latex" class="nav-link" data-scroll-target="#add-a-comment-section-that-supports-latex"><span class="toc-section-number">3</span>  Add A Comment Section that Supports Latex</a></li>
  <li><a href="#add-rss-feed" id="toc-add-rss-feed" class="nav-link" data-scroll-target="#add-rss-feed"><span class="toc-section-number">4</span>  Add RSS Feed</a></li>
  <li><a href="#add-social-share-buttons" id="toc-add-social-share-buttons" class="nav-link" data-scroll-target="#add-social-share-buttons"><span class="toc-section-number">5</span>  Add Social Share Buttons</a>
  <ul>
  <li><a href="#header-code" id="toc-header-code" class="nav-link" data-scroll-target="#header-code"><span class="toc-section-number">5.1</span>  Header Code</a></li>
  <li><a href="#buttons-code" id="toc-buttons-code" class="nav-link" data-scroll-target="#buttons-code"><span class="toc-section-number">5.2</span>  Buttons Code</a></li>
  </ul></li>
  <li><a href="#add-an-annotation-tool" id="toc-add-an-annotation-tool" class="nav-link" data-scroll-target="#add-an-annotation-tool"><span class="toc-section-number">6</span>  Add An Annotation Tool</a></li>
  <li><a href="#enable-anchor-sections" id="toc-enable-anchor-sections" class="nav-link" data-scroll-target="#enable-anchor-sections"><span class="toc-section-number">7</span>  Enable Anchor Sections</a></li>
  <li><a href="#a-custom-listing-page" id="toc-a-custom-listing-page" class="nav-link" data-scroll-target="#a-custom-listing-page"><span class="toc-section-number">8</span>  A Custom Listing Page</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<p><img src="images/2022/quarto-website.png" class="img-fluid"></p>
<div class="callout-tip callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Explore the GitHub Repo for this website to see how it’s set up: <a href="https://github.com/feynlee/curiosity-notes"><img src="../images/icons/github-logo.png" class="img-fluid" data-fig-align="left" width="80"></a></p>
</div>
</div>
<p>It took me some time to migrate to <a href="https://quarto.org">Quarto</a>. Here are some the tips that might be helpful if you are thinking about doing the same.</p>
<section id="different-sidebars-for-different-contents" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="different-sidebars-for-different-contents"><span class="header-section-number">1</span> Different Sidebars for Different Contents</h2>
<p>On this website, you will see multiple sections: Posts, TIL, Books … Many of them have their own sidebars. For example, see one of the posts in <a href="https://feynlee.github.io/curiosity-notes/TIL/2022/2022-11-23-aws-private_subnet_setup.html">TIL</a>. On the left-hand side is the sidebar to jump to other posts quickly.</p>
<!-- ![](images/2022/sidebars.png){width=50%, fig-align=center} -->
<p>This is easy to set up by simply having multiple sidebars in <code>_quarto.yml</code>. However, there seems to be a bug when you only have one sidebar configured. That one sidebar will show up across your website, even for pages unrelated to that sidebar.</p>
<p>As of this writing, an easy way to solve this is to make another empty sidebar:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode numberSource yml number-lines code-with-copy"><code class="sourceCode yaml"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">sidebar</span><span class="kw">:</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">id</span><span class="kw">:</span><span class="at"> til</span></span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="at">    </span><span class="fu">title</span><span class="kw">:</span><span class="at"> TIL</span></span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="at">    </span><span class="fu">contents</span><span class="kw">:</span></span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">section</span><span class="kw">:</span><span class="at"> </span><span class="st">'2022'</span></span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="at">        </span><span class="fu">contents</span><span class="kw">:</span></span>
<span id="cb1-7"><a href="#cb1-7"></a><span class="at">        </span><span class="kw">-</span><span class="at"> </span><span class="fu">text</span><span class="kw">:</span><span class="at"> Nbdev_ignore</span></span>
<span id="cb1-8"><a href="#cb1-8"></a><span class="at">          </span><span class="fu">href</span><span class="kw">:</span><span class="at"> TIL/2022/2022-11-23-aws-private_subnet_setup.ipynb</span></span>
<span id="cb1-9"><a href="#cb1-9"></a><span class="at">        </span><span class="kw">-</span><span class="at"> </span><span class="fu">text</span><span class="kw">:</span><span class="at"> Whisper2Subtitles</span></span>
<span id="cb1-10"><a href="#cb1-10"></a><span class="at">          </span><span class="fu">href</span><span class="kw">:</span><span class="at"> TIL/2022/2022-11-16-fastai-store_attr_infinite_recursion.ipynb</span></span>
<span id="cb1-11"><a href="#cb1-11"></a><span class="at">        </span><span class="kw">-</span><span class="at"> </span><span class="fu">text</span><span class="kw">:</span><span class="at"> DreamBooth</span></span>
<span id="cb1-12"><a href="#cb1-12"></a><span class="at">          </span><span class="fu">href</span><span class="kw">:</span><span class="at"> TIL/2022/2022-11-15-fastai-show_training_loop.ipynb</span></span>
<span id="cb1-13"><a href="#cb1-13"></a><span class="at">  </span><span class="kw">-</span><span class="at"> </span><span class="fu">id</span><span class="kw">:</span><span class="at"> empty sidebar</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="enable-line-numbers-in-code-blocks" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="enable-line-numbers-in-code-blocks"><span class="header-section-number">2</span> Enable Line Numbers in Code Blocks</h2>
<p>Some useful settings for code blocks in <code>_quarto.yml</code>:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode numberSource yml number-lines code-with-copy"><code class="sourceCode yaml"><span id="cb2-1"><a href="#cb2-1"></a><span class="fu">format</span><span class="kw">:</span></span>
<span id="cb2-2"><a href="#cb2-2"></a><span class="at">  </span><span class="fu">html</span><span class="kw">:</span></span>
<span id="cb2-3"><a href="#cb2-3"></a><span class="at">    </span><span class="fu">code-line-numbers</span><span class="kw">:</span><span class="at"> </span><span class="st">"1"</span></span>
<span id="cb2-4"><a href="#cb2-4"></a><span class="at">    </span><span class="fu">code-block-bg</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb2-5"><a href="#cb2-5"></a><span class="at">    </span><span class="fu">code-block-border-left</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb2-6"><a href="#cb2-6"></a><span class="at">    </span><span class="fu">code-copy</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb2-7"><a href="#cb2-7"></a><span class="at">    </span><span class="fu">code-fold</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="add-a-comment-section-that-supports-latex" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="add-a-comment-section-that-supports-latex"><span class="header-section-number">3</span> Add A Comment Section that Supports Latex</h2>
<!-- ![](images/2022/giscus.png){width=50%, fig-align=center} -->
<p><a href="https://giscus.app">Giscus</a> is a comments system powered by <a href="https://docs.github.com/en/discussions">GitHub Discussions</a>. It supports Latex, so that visitors can type math equations in the comment section.</p>
<p>Make sure you configure the <code>repository</code> and the <code>Discussion Category</code> on <a href="https://giscus.app">Giscus</a>. This will generate the script code. We don’t need to copy that code, but we do need to note the <code>data-repo-id</code>, and <code>data-category-id</code>.</p>
<p>To enable it for a page, include the following in the YAML front matter:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource yml number-lines code-with-copy"><code class="sourceCode yaml"><span id="cb3-1"><a href="#cb3-1"></a><span class="fu">comments</span><span class="kw">:</span></span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="at">  </span><span class="fu">giscus</span><span class="kw">:</span></span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="at">    </span><span class="fu">repo</span><span class="kw">:</span><span class="at"> &lt;GitHub Repo for Your Quarto Website&gt;</span></span>
<span id="cb3-4"><a href="#cb3-4"></a><span class="at">    </span><span class="fu">repo-id</span><span class="kw">:</span><span class="at"> &lt;Your data-repo-id&gt;</span></span>
<span id="cb3-5"><a href="#cb3-5"></a><span class="at">    </span><span class="fu">category</span><span class="kw">:</span><span class="at"> &lt;The Discussion Category&gt;</span></span>
<span id="cb3-6"><a href="#cb3-6"></a><span class="at">    </span><span class="fu">category-id</span><span class="kw">:</span><span class="at"> &lt;Your data-category-id&gt;</span></span>
<span id="cb3-7"><a href="#cb3-7"></a><span class="at">    </span><span class="fu">mapping</span><span class="kw">:</span><span class="at"> </span><span class="st">"title"</span></span>
<span id="cb3-8"><a href="#cb3-8"></a><span class="at">    </span><span class="fu">reactions-enabled</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb3-9"><a href="#cb3-9"></a><span class="at">    </span><span class="fu">loading</span><span class="kw">:</span><span class="at"> lazy</span></span>
<span id="cb3-10"><a href="#cb3-10"></a><span class="at">    </span><span class="fu">input-position</span><span class="kw">:</span><span class="at"> </span><span class="st">"top"</span></span>
<span id="cb3-11"><a href="#cb3-11"></a><span class="at">    </span><span class="fu">theme</span><span class="kw">:</span><span class="at"> </span><span class="st">"preferred_color_scheme"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="add-rss-feed" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="add-rss-feed"><span class="header-section-number">4</span> Add RSS Feed</h2>
<!-- ![rss](images/2022/rss.png){width=50%, fig-align=center} -->
<ol type="1">
<li><p>Add <code>feed: true</code> in the listing page Include a feed for your listing by including the <code>feed</code> option in your listing page:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode numberSource yml number-lines code-with-copy"><code class="sourceCode yaml"><span id="cb4-1"><a href="#cb4-1"></a><span class="fu">listing</span><span class="kw">:</span></span>
<span id="cb4-2"><a href="#cb4-2"></a><span class="at">  </span><span class="fu">contents</span><span class="kw">:</span><span class="at"> posts</span></span>
<span id="cb4-3"><a href="#cb4-3"></a><span class="at">  </span><span class="fu">feed</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>An RSS file will automatically be generated using the name of the the file in the same location as the listing page. For example, <code>index.qmd</code> will produce a feed at <code>index.xml</code>.</p></li>
<li><p>Include the path to the xml file</p>
<p>We need to explicitly include links to these xml files. On this website, I created 3 RSS feeds: Posts, TIL and Projects. I included them in <code>_quarto.yml</code> under a menu on the right side of the navigation bar:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode numberSource yml number-lines code-with-copy"><code class="sourceCode yaml"><span id="cb5-1"><a href="#cb5-1"></a><span class="fu">website</span><span class="kw">:</span></span>
<span id="cb5-2"><a href="#cb5-2"></a><span class="at">  </span><span class="fu">navbar</span><span class="kw">:</span></span>
<span id="cb5-3"><a href="#cb5-3"></a><span class="at">    </span><span class="fu">right</span><span class="kw">:</span></span>
<span id="cb5-4"><a href="#cb5-4"></a><span class="at">      </span><span class="kw">-</span><span class="at"> </span><span class="fu">icon</span><span class="kw">:</span><span class="at"> rss</span></span>
<span id="cb5-5"><a href="#cb5-5"></a><span class="at">        </span><span class="fu">menu</span><span class="kw">:</span></span>
<span id="cb5-6"><a href="#cb5-6"></a><span class="at">        </span><span class="kw">-</span><span class="at"> </span><span class="fu">text</span><span class="kw">:</span><span class="at"> Subscribe to Posts</span></span>
<span id="cb5-7"><a href="#cb5-7"></a><span class="at">            </span><span class="fu">icon</span><span class="kw">:</span><span class="at"> rss</span></span>
<span id="cb5-8"><a href="#cb5-8"></a><span class="at">            </span><span class="fu">href</span><span class="kw">:</span><span class="at"> https://feynlee.github.io/curiosity-notes/index.xml</span></span>
<span id="cb5-9"><a href="#cb5-9"></a><span class="at">            </span><span class="fu">aria-label</span><span class="kw">:</span><span class="at"> Posts RSS</span></span>
<span id="cb5-10"><a href="#cb5-10"></a><span class="at">        </span><span class="kw">-</span><span class="at"> </span><span class="fu">text</span><span class="kw">:</span><span class="at"> Subscribe to TIL</span></span>
<span id="cb5-11"><a href="#cb5-11"></a><span class="at">            </span><span class="fu">icon</span><span class="kw">:</span><span class="at"> rss</span></span>
<span id="cb5-12"><a href="#cb5-12"></a><span class="at">            </span><span class="fu">href</span><span class="kw">:</span><span class="at"> https://feynlee.github.io/curiosity-notes/TIL.xml</span></span>
<span id="cb5-13"><a href="#cb5-13"></a><span class="at">            </span><span class="fu">aria-label</span><span class="kw">:</span><span class="at"> TIL RSS</span></span>
<span id="cb5-14"><a href="#cb5-14"></a><span class="at">        </span><span class="kw">-</span><span class="at"> </span><span class="fu">text</span><span class="kw">:</span><span class="at"> Subscribe to Projects</span></span>
<span id="cb5-15"><a href="#cb5-15"></a><span class="at">            </span><span class="fu">icon</span><span class="kw">:</span><span class="at"> rss</span></span>
<span id="cb5-16"><a href="#cb5-16"></a><span class="at">            </span><span class="fu">href</span><span class="kw">:</span><span class="at"> https://feynlee.github.io/curiosity-notes/projects.xml</span></span>
<span id="cb5-17"><a href="#cb5-17"></a><span class="at">            </span><span class="fu">aria-label</span><span class="kw">:</span><span class="at"> Projects RSS</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div></li>
</ol>
</section>
<section id="add-social-share-buttons" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="add-social-share-buttons"><span class="header-section-number">5</span> Add Social Share Buttons</h2>
<!-- ![rss](images/2022/sharebuttons.png){width=50%, fig-align=center} -->
<p>There’s already an option to add social share buttons through the Quarto extension <a href="https://github.com/schochastics/quarto-social-share">quarto-social-share</a>. However, I’d like to use <a href="https://sharethis.com">sharethis</a>, and I want to make them appear above the comment section, immediately after each post.</p>
<p>After you configured the share buttons on <a href="https://sharethis.com">sharethis</a>, it will generate a header code and buttons code.</p>
<section id="header-code" class="level3" data-number="5.1">
<h3 data-number="5.1" class="anchored" data-anchor-id="header-code"><span class="header-section-number">5.1</span> Header Code</h3>
<p>For the header code, we can include it in the header of the website, by adding the following in <code>_quarto.yml</code>:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode numberSource yml number-lines code-with-copy"><code class="sourceCode yaml"><span id="cb6-1"><a href="#cb6-1"></a><span class="fu">format</span><span class="kw">:</span></span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="at">  </span><span class="fu">html</span><span class="kw">:</span></span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="at">    </span><span class="fu">header-includes</span><span class="kw">:</span><span class="at"> &lt;script type="text/javascript" src="https://platform-api.sharethis.com/js/sharethis.js</span><span class="co">#property=**************&amp;product=inline-share-buttons&amp;source=platform" async="async"&gt;&lt;/script&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="buttons-code" class="level3" data-number="5.2">
<h3 data-number="5.2" class="anchored" data-anchor-id="buttons-code"><span class="header-section-number">5.2</span> Buttons Code</h3>
<p>For the buttons code, one could’ve included it at the bottom of each post manually, so that the share buttons appear there. However, I’d like to do this more efficiently, so I created an extension: <a href="https://github.com/feynlee/code-insertion">code-insertion</a>, which can insert any markdown/html code before and/or after a post.</p>
<p>Here’s what you need to do to enable this:</p>
<ul>
<li><p>Install Extension</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode numberSource sh number-lines code-with-copy"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1"></a><span class="ex">quarto</span> add feynlee/code-insertion</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This will install the extension under the <code>_extensions</code> subdirectory. If you’re using version control, you will want to check in this directory for your Quarto website.</p></li>
<li><p>Create a Markdown file to store the buttons code</p>
<p>Create a markdown file (html also works) <code>_sharebuttons.md</code>:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode numberSource md number-lines code-with-copy"><code class="sourceCode markdown"><span id="cb8-1"><a href="#cb8-1"></a><span class="kw">&lt;div</span> <span class="er">class</span><span class="ot">=</span><span class="st">"sharethis-inline-share-buttons pt-5"</span><span class="kw">&gt;&lt;/div&gt;</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>The <code>pt-5</code> is a <a href="https://getbootstrap.com/docs/4.0/utilities/spacing/#examples">Bootstrap class</a> to make sure there’s enough space between the post and the share buttons.</p>
<p>Make sure to start the file name with an underscore, so that Quarto ignores it when generating htmls.</p></li>
<li><p>Enable the filter in <code>_metadata.yml</code> for all posts</p>
<p>In the YAML front matter of a post, enable the code-insertion filter, and add <code>insert-before-post</code> and/or <code>insert-after-post</code> parameters that point to a markdown file with sections you want to insert before and/or after the post.</p>
<p>Create a <code>_metadata.yml</code> file under the folder that contains all of your posts. Any settings here will be shared by all posts. Enable the <code>code-insertion</code> filter:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode numberSource yml number-lines code-with-copy"><code class="sourceCode yaml"><span id="cb9-1"><a href="#cb9-1"></a><span class="fu">filters</span><span class="kw">:</span></span>
<span id="cb9-2"><a href="#cb9-2"></a><span class="at">  </span><span class="kw">-</span><span class="at"> code-insertion</span></span>
<span id="cb9-3"><a href="#cb9-3"></a><span class="fu">insert-after-post</span><span class="kw">:</span><span class="at"> _sharebuttons.md</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Note that you should put the path to your <code>_sharebuttons.md</code> file for <code>insert-after-post</code>. This will insert that code as the last block in your post, which is above the comment section.</p></li>
</ul>
</section>
</section>
<section id="add-an-annotation-tool" class="level2" data-number="6">
<h2 data-number="6" class="anchored" data-anchor-id="add-an-annotation-tool"><span class="header-section-number">6</span> Add An Annotation Tool</h2>
<p>You can enable <a href="https://web.hypothes.is">hypothes</a> on your website so that visitors can highlight and annotate your posts.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode numberSource yml number-lines code-with-copy"><code class="sourceCode yaml"><span id="cb10-1"><a href="#cb10-1"></a><span class="fu">comments</span><span class="kw">:</span></span>
<span id="cb10-2"><a href="#cb10-2"></a><span class="at">  </span><span class="fu">hypothesis</span><span class="kw">:</span></span>
<span id="cb10-3"><a href="#cb10-3"></a><span class="at">    </span><span class="fu">theme</span><span class="kw">:</span><span class="at"> clean</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This is enabled for my website. You can see the Hypothesis UI at the far right of the page. You can also drag cursor over texts to make your own highlights and annotations on this page.</p>
</section>
<section id="enable-anchor-sections" class="level2" data-number="7">
<h2 data-number="7" class="anchored" data-anchor-id="enable-anchor-sections"><span class="header-section-number">7</span> Enable Anchor Sections</h2>
<p>Hover over a section title to see an anchor link. An anchor link makes it possible to share and reference the exact position of the specified section. Enable/disable this behavior with:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode numberSource yml number-lines code-with-copy"><code class="sourceCode yaml"><span id="cb11-1"><a href="#cb11-1"></a><span class="fu">format</span><span class="kw">:</span></span>
<span id="cb11-2"><a href="#cb11-2"></a><span class="at">  </span><span class="fu">html</span><span class="kw">:</span></span>
<span id="cb11-3"><a href="#cb11-3"></a><span class="at">    </span><span class="fu">anchor-sections</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Anchor links are also automatically added to figures and tables that have a <a href="https://quarto.org/docs/authoring/cross-references.html">cross reference</a> defined.</p>
</section>
<section id="a-custom-listing-page" class="level2" data-number="8">
<h2 data-number="8" class="anchored" data-anchor-id="a-custom-listing-page"><span class="header-section-number">8</span> A Custom Listing Page</h2>
<p>The <a href="https://feynlee.github.io/curiosity-notes/books/books.html">Books</a> page on this website is created with a <a href="https://quarto.org/docs/websites/website-listings-custom.html">custom listings</a> page. With <a href="https://ejs.co">EJS Template</a>, one can create a very customized listings page to suit one’s needs.</p>
<p><a href="https://quarto.org/docs/websites/website-listings-custom.html#sorting-filtering-and-pagination">Sorting, filtering and pagination</a> can also be enabled for your listings page with very little effort.</p>


<div class="sharethis-inline-share-buttons pt-5">

</div>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var filterRegex = new RegExp(/https:\/\/feynlee\.github\.io\/curiosity-notes/);
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
    var links = window.document.querySelectorAll('a:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
          // target, if specified
          link.setAttribute("target", "_blank");
      }
    }
});
</script>
<script src="https://giscus.app/client.js" data-repo="feynlee/curiosity-notes" data-repo-id="MDEwOlJlcG9zaXRvcnkyNDgwOTkxNzg=" data-category="Announcements" data-category-id="DIC_kwDODsmxas4CR7S3" data-mapping="title" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="top" data-theme="preferred_color_scheme" data-lang="en" crossorigin="anonymous" data-loading="lazy" async="">
</script>
</div> <!-- /content -->



<script src="../site_libs/quarto-html/zenscroll-min.js"></script>
</body></html>